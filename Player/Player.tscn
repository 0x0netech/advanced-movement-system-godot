[gd_scene load_steps=11 format=3 uid="uid://cmh421lq6vho6"]

[ext_resource type="PackedScene" uid="uid://dvskyskj2hvfe" path="res://Character/Character.tscn" id="1_smt6h"]
[ext_resource type="Script" path="res://Player/PlayerGameplay.gd" id="2_23qw2"]
[ext_resource type="PackedScene" uid="uid://iv6qwdja1hb7" path="res://Player/flashlight/Flashlight.tscn" id="3_r3pwl"]
[ext_resource type="Script" path="res://Player/Status.gd" id="3_xc4yu"]
[ext_resource type="Texture2D" uid="uid://dpkisrpco54qj" path="res://Player/UI/Debug/circle.png" id="4_wwpsv"]
[ext_resource type="Texture2D" uid="uid://ijv6wr22hov8" path="res://Player/UI/Debug/direction.png" id="5_o3n0v"]
[ext_resource type="Texture2D" uid="uid://ck5riwbh478s4" path="res://Player/UI/Debug/velocity.png" id="6_cyw7n"]
[ext_resource type="AudioStream" uid="uid://cffn28kxpgkqi" path="res://Character/footstep_sound/footstep1.wav" id="8_k2nvr"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_br6ho"]
resource_local_to_scene = true
radius = 0.375

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_mtma1"]

[node name="Player" instance=ExtResource( "1_smt6h" )]
script = ExtResource( "2_23qw2" )
jump_magnitude = 4.0
Gait = 0
Stance = 0
OverlayState = 0
OnePressJump = true
UsingSprintToggle = false
UsingCrouchToggle = true

[node name="CollisionShape3D" parent="." index="0"]
shape = SubResource( "CapsuleShape3D_br6ho" )

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(0.00425293, 0.921453, -0.00107845)
bones/0/rotation = Quaternion(-0.0412659, -0.36389, -0.0147413, 0.93041)
bones/1/rotation = Quaternion(-0.0145311, 0.0391187, -0.00531171, 0.999115)
bones/2/rotation = Quaternion(0.0915975, 0.0802505, -0.00682288, 0.992534)
bones/3/rotation = Quaternion(0.151319, 0.0796888, -0.0116713, 0.985198)
bones/4/rotation = Quaternion(0.133939, -0.0103272, 0.00284024, 0.990932)
bones/5/rotation = Quaternion(-0.040508, 0.165202, -0.0584043, 0.983695)
bones/9/rotation = Quaternion(0.469838, 0.538983, -0.569116, 0.406026)
bones/10/rotation = Quaternion(0.535822, -0.0725165, 0.144811, 0.828653)
bones/11/rotation = Quaternion(-0.0077711, 0.0981539, 0.450945, 0.887104)
bones/12/rotation = Quaternion(-0.131263, 0.120529, -0.00555422, 0.983978)
bones/13/rotation = Quaternion(0.140359, 0.00239492, -0.067661, 0.987783)
bones/14/rotation = Quaternion(0.204321, -0.00139053, 0.0155023, 0.97878)
bones/15/rotation = Quaternion(0.13311, 8.26083e-07, -0.0135165, 0.991009)
bones/17/rotation = Quaternion(0.28401, 0.117236, 0.177749, 0.934879)
bones/18/rotation = Quaternion(-0.00643966, 0.00123715, -0.00312966, 0.999974)
bones/19/rotation = Quaternion(-0.200134, -0.0121019, 0.162444, 0.966133)
bones/21/rotation = Quaternion(0.0648707, -0.00396691, 0.0633041, 0.995876)
bones/22/rotation = Quaternion(0.180669, -0.00163006, -0.00241405, 0.98354)
bones/23/rotation = Quaternion(0.0768776, -1.94932e-06, -0.00781073, 0.99701)
bones/25/rotation = Quaternion(0.279054, -0.0197147, -0.112868, 0.953415)
bones/26/rotation = Quaternion(0.289714, 0.00175915, 0.0245572, 0.956796)
bones/27/rotation = Quaternion(0.0901817, 1.82832e-07, -0.00915962, 0.995883)
bones/29/rotation = Quaternion(0.303446, -0.0213399, -0.145456, 0.941439)
bones/30/rotation = Quaternion(0.348263, 0.0116914, 0.0492444, 0.93603)
bones/31/rotation = Quaternion(0.122185, -8.36773e-07, -0.012404, 0.99243)
bones/33/rotation = Quaternion(0.524051, -0.496907, 0.53938, 0.433039)
bones/34/rotation = Quaternion(0.517037, 0.0786781, 0.0767497, 0.848877)
bones/35/rotation = Quaternion(0.0628994, -0.0676286, -0.429732, 0.898221)
bones/36/rotation = Quaternion(0.113315, -0.00720236, -0.0555099, 0.991981)
bones/37/rotation = Quaternion(0.112577, 0.00827312, 0.0256799, 0.993277)
bones/38/rotation = Quaternion(0.312293, 0.0017106, -0.0209855, 0.949753)
bones/39/rotation = Quaternion(0.130531, -9.8047e-07, 0.0104912, 0.991389)
bones/40/rotation = Quaternion(-0.329026, 0.831997, 0.391895, -0.214338)
bones/41/rotation = Quaternion(0.202285, 0.0242785, -0.22855, 0.951975)
bones/42/rotation = Quaternion(0.00555547, 0.00123569, 0.182635, 0.983164)
bones/43/rotation = Quaternion(-0.163084, -0.0845856, -0.139822, 0.972984)
bones/45/rotation = Quaternion(0.0517984, 0.0101084, 0.0079668, 0.998575)
bones/46/rotation = Quaternion(0.170518, 0.000685881, 0.00772276, 0.985324)
bones/47/rotation = Quaternion(0.159337, -1.59799e-07, 0.0128159, 0.987141)
bones/49/rotation = Quaternion(0.213927, -0.00643882, 0.065495, 0.97463)
bones/50/rotation = Quaternion(0.344024, -0.00249231, -0.0355469, 0.938285)
bones/51/rotation = Quaternion(0.159935, -3.68205e-06, 0.0128613, 0.987044)
bones/53/rotation = Quaternion(0.210337, -0.0109578, 0.0915355, 0.973273)
bones/54/rotation = Quaternion(0.3985, -0.014273, -0.0710752, 0.914299)
bones/55/rotation = Quaternion(0.240212, -2.62726e-06, 0.0193098, 0.970528)
bones/57/rotation = Quaternion(-0.124337, 0.0101638, 0.983575, 0.130448)
bones/58/rotation = Quaternion(-0.283949, 0.0731145, -0.0180989, 0.955876)
bones/59/rotation = Quaternion(0.589006, 0.0615512, 0.113196, 0.797791)
bones/60/rotation = Quaternion(0.354171, 0.0206093, 0.00391505, 0.934945)
bones/62/rotation = Quaternion(-0.0796353, -0.202749, -0.970709, 0.101364)
bones/63/rotation = Quaternion(-0.302641, 0.120068, -0.0378405, 0.944754)
bones/64/rotation = Quaternion(0.487638, -0.0206637, -0.0370542, 0.872015)
bones/65/rotation = Quaternion(0.359126, 0.000213015, -0.0287616, 0.932846)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(0.873058, -0.00599483, -0.48758, -0.0331956, 0.996874, -0.0716965, 0.486486, 0.0787807, 0.870129, 0.0281419, 1.13575, -0.0261357)
bone_name = "Chest"
bone_idx = 2

[node name="Flashlight" parent="Armature/Skeleton3D/BoneAttachment3D" index="0" instance=ExtResource( "3_r3pwl" )]
transform = Transform3D(-1.013, 1.09344e-05, 0.000158173, 1.09344e-05, 1.013, -1.3411e-07, -0.000158173, -1.19209e-07, -1.013, 0.177198, -0.0264027, 0.187903)
light_energy = 20.0

[node name="AnimationTree" parent="." index="3"]
parameters/InAirState/playback = SubResource( "AnimationNodeStateMachinePlayback_mtma1" )

[node name="LookAtObject" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.084224, 0.23971, 1.92731)

[node name="Status" type="Control" parent="." index="7"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( "3_xc4yu" )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Control" type="Control" parent="Status" index="0"]
offset_left = 192.847
offset_top = 162.692
offset_right = 232.847
offset_bottom = 202.692
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Circle" type="Sprite2D" parent="Status/Control" index="0"]
scale = Vector2(0.287, 0.287)
texture = ExtResource( "4_wwpsv" )

[node name="Direction" type="Sprite2D" parent="Status/Control" index="1"]
scale = Vector2(0.287, 0.476)
texture = ExtResource( "5_o3n0v" )
offset = Vector2(112, 0)

[node name="mesh" type="Sprite2D" parent="Status/Control" index="2"]
modulate = Color(1, 0.345098, 0.345098, 1)
scale = Vector2(0.287, 0.287)
texture = ExtResource( "5_o3n0v" )
offset = Vector2(112, 0)

[node name="Velocity" type="Sprite2D" parent="Status/Control" index="3"]
scale = Vector2(0.287, 0.287)
texture = ExtResource( "6_cyw7n" )

[node name="ColorRect" type="ColorRect" parent="Status" index="1"]
offset_left = 145.0
offset_top = 267.0
offset_right = 291.0
offset_bottom = 337.0
color = Color(0.0980392, 0.231373, 0.407843, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect" type="ColorRect" parent="Status/ColorRect" index="0"]
offset_left = 11.9219
offset_top = 8.41742
offset_right = 17.9219
offset_bottom = 14.4174
color = Color(0, 0.74902, 0.952941, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Status/ColorRect/ColorRect" index="0"]
offset_left = 10.3943
offset_top = -8.73239
offset_right = 70.3943
offset_bottom = 17.2676
text = "Velocity"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect2" type="ColorRect" parent="Status/ColorRect" index="1"]
offset_left = 11.9219
offset_top = 24.4366
offset_right = 17.9219
offset_bottom = 30.4366
color = Color(1, 0.345098, 0.345098, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Status/ColorRect/ColorRect2" index="0"]
offset_left = 10.3943
offset_top = -7.73239
offset_right = 121.394
offset_bottom = 18.2676
text = "Mesh Rotation"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect3" type="ColorRect" parent="Status/ColorRect" index="2"]
offset_left = 11.9219
offset_top = 42.5159
offset_right = 17.9219
offset_bottom = 48.5159
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Status/ColorRect/ColorRect3" index="0"]
offset_left = 10.3943
offset_top = -7.73239
offset_right = 121.394
offset_bottom = 18.2676
text = "Control Rotation"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Status" index="2"]
offset_left = 500.618
offset_top = 234.989
offset_right = 540.618
offset_bottom = 248.989
rect_scale = Vector2(1.40679, 1.40679)
theme_override_colors/font_color = Color(0, 0, 0, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label2" type="Label" parent="Status" index="3"]
offset_left = 500.618
offset_top = 263.497
offset_right = 540.618
offset_bottom = 277.497
rect_scale = Vector2(1.40679, 1.40679)
theme_override_colors/font_color = Color(0, 0, 0, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label3" type="Label" parent="Status" index="4"]
offset_left = 500.618
offset_top = 291.052
offset_right = 540.618
offset_bottom = 305.052
rect_scale = Vector2(1.40679, 1.40679)
theme_override_colors/font_color = Color(0, 0, 0, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label4" type="Label" parent="Status" index="5"]
offset_left = 500.618
offset_top = 319.561
offset_right = 540.618
offset_bottom = 333.561
rect_scale = Vector2(1.40679, 1.40679)
theme_override_colors/font_color = Color(0, 0, 0, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="InteractionLabel" type="Label" parent="Status" index="6"]
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -55.0
theme_override_font_sizes/font_size = 16
text = "Press E to interact"
horizontal_alignment = 1
vertical_alignment = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RichTextLabel" type="RichTextLabel" parent="Status" index="7"]
visible = false
offset_left = 29.0
offset_top = 354.0
offset_right = 400.0
offset_bottom = 803.0
text = "                                      Controls
(W,A,S,D) Move In The Four Directions

(Shift) Sprint

(C) Long Press : Switch First/Third Person View

(C) One Press : Switch Camera Angle (Right Shoulder,Left Shoulder,Head(Center) )

(Space) Jump

(CTRL) Crouch/UnCrouch

(Q) Run (Temporarily)

(F) Interaction

(L) Flashlight"

[node name="FootstepSounds" parent="." index="8"]
stream = ExtResource( "8_k2nvr" )
