[gd_scene load_steps=11 format=3 uid="uid://cmh421lq6vho6"]

[ext_resource type="PackedScene" uid="uid://dvskyskj2hvfe" path="res://Character/Character.tscn" id="1_smt6h"]
[ext_resource type="Script" path="res://Player/PlayerGameplay.gd" id="2_23qw2"]
[ext_resource type="PackedScene" uid="uid://iv6qwdja1hb7" path="res://Player/flashlight/Flashlight.tscn" id="3_r3pwl"]
[ext_resource type="Script" path="res://Player/Status.gd" id="3_xc4yu"]
[ext_resource type="Texture2D" uid="uid://dpkisrpco54qj" path="res://Player/UI/Debug/circle.png" id="4_wwpsv"]
[ext_resource type="Texture2D" uid="uid://ijv6wr22hov8" path="res://Player/UI/Debug/direction.png" id="5_o3n0v"]
[ext_resource type="Texture2D" uid="uid://ck5riwbh478s4" path="res://Player/UI/Debug/velocity.png" id="6_cyw7n"]
[ext_resource type="AudioStream" uid="uid://cffn28kxpgkqi" path="res://Character/footstep_sound/footstep1.wav" id="8_k2nvr"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_br6ho"]
resource_local_to_scene = true
radius = 0.375
height = 2.0

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_mtma1"]

[node name="Player" instance=ExtResource( "1_smt6h" )]
script = ExtResource( "2_23qw2" )
jump_magnitude = 4.0
Gait = 0
Stance = 0
OverlayState = 0
OnePressJump = true
UsingSprintToggle = false
UsingCrouchToggle = true

[node name="CollisionShape3D" parent="." index="0"]
shape = SubResource( "CapsuleShape3D_br6ho" )

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(0.00465923, 0.921163, -0.00154681)
bones/0/rotation = Quaternion(-0.0409125, -0.364592, -0.0148211, 0.93015)
bones/1/rotation = Quaternion(-0.0137845, 0.0398786, -0.00535143, 0.999095)
bones/2/rotation = Quaternion(0.0920695, 0.0806849, -0.00701518, 0.992454)
bones/3/rotation = Quaternion(0.151785, 0.08011, -0.0118899, 0.98509)
bones/4/rotation = Quaternion(0.134871, -0.0104639, 0.00303711, 0.990803)
bones/5/rotation = Quaternion(-0.0315759, 0.164635, -0.0591479, 0.984073)
bones/9/rotation = Quaternion(0.469365, 0.539303, -0.569049, 0.406242)
bones/10/rotation = Quaternion(0.536353, -0.0718947, 0.141646, 0.828911)
bones/11/rotation = Quaternion(-0.00803769, 0.0981352, 0.449101, 0.888039)
bones/12/rotation = Quaternion(-0.135593, 0.122908, -0.00630466, 0.983091)
bones/13/rotation = Quaternion(0.13898, 0.00292267, -0.0704035, 0.987785)
bones/14/rotation = Quaternion(0.203048, -0.0013772, 0.0152021, 0.97905)
bones/15/rotation = Quaternion(0.193275, 1.38805e-06, -0.0196296, 0.980948)
bones/17/rotation = Quaternion(0.284188, 0.116806, 0.178998, 0.934641)
bones/18/rotation = Quaternion(-0.00640302, 0.00121264, -0.00316398, 0.999974)
bones/19/rotation = Quaternion(-0.213137, -0.0112674, 0.169685, 0.962109)
bones/21/rotation = Quaternion(0.0600475, -0.00438918, 0.0625722, 0.996223)
bones/22/rotation = Quaternion(0.167953, -0.00130067, -0.00417126, 0.985785)
bones/23/rotation = Quaternion(0.163055, -1.96939e-06, -0.0165665, 0.986478)
bones/25/rotation = Quaternion(0.277986, -0.0186558, -0.115624, 0.953418)
bones/26/rotation = Quaternion(0.288361, 0.00174491, 0.0243801, 0.95721)
bones/27/rotation = Quaternion(0.152504, 3.27758e-07, -0.0154918, 0.988181)
bones/29/rotation = Quaternion(0.30243, -0.0202922, -0.147915, 0.941406)
bones/30/rotation = Quaternion(0.347052, 0.0116022, 0.0491453, 0.936486)
bones/31/rotation = Quaternion(0.185269, -1.8623e-07, -0.0188136, 0.982508)
bones/33/rotation = Quaternion(0.521499, -0.499248, 0.539085, 0.433795)
bones/34/rotation = Quaternion(0.516293, 0.0797097, 0.0752426, 0.849368)
bones/35/rotation = Quaternion(0.0613037, -0.064247, -0.42968, 0.898604)
bones/36/rotation = Quaternion(0.110145, -0.00611011, -0.0568993, 0.992267)
bones/37/rotation = Quaternion(0.112703, 0.00834971, 0.0254368, 0.993268)
bones/38/rotation = Quaternion(0.301702, 0.00163544, -0.0199811, 0.953191)
bones/39/rotation = Quaternion(0.136781, -1.01978e-06, 0.0109939, 0.99054)
bones/40/rotation = Quaternion(-0.329026, 0.831997, 0.391895, -0.214338)
bones/41/rotation = Quaternion(0.202402, 0.0236705, -0.226798, 0.952384)
bones/42/rotation = Quaternion(0.00599703, 0.00126889, 0.185295, 0.982664)
bones/43/rotation = Quaternion(-0.138476, -0.0692144, -0.134774, 0.978708)
bones/45/rotation = Quaternion(0.0555473, 0.0102076, 0.00747664, 0.998376)
bones/46/rotation = Quaternion(0.186765, 0.0010834, 0.0061166, 0.982385)
bones/47/rotation = Quaternion(0.170578, -1.32562e-07, 0.01372, 0.985249)
bones/49/rotation = Quaternion(0.208055, -0.00682767, 0.0657638, 0.97588)
bones/50/rotation = Quaternion(0.338603, -0.00245326, -0.0350882, 0.940272)
bones/51/rotation = Quaternion(0.15803, -3.68013e-06, 0.012708, 0.987353)
bones/53/rotation = Quaternion(0.210079, -0.0109033, 0.0911694, 0.973363)
bones/54/rotation = Quaternion(0.387792, -0.0137948, -0.0704224, 0.918949)
bones/55/rotation = Quaternion(0.23444, -2.54815e-06, 0.0188456, 0.971948)
bones/57/rotation = Quaternion(-0.124444, 0.0100419, 0.983699, 0.129421)
bones/58/rotation = Quaternion(-0.287843, 0.0718732, -0.0178794, 0.95481)
bones/59/rotation = Quaternion(0.591334, 0.0605053, 0.111696, 0.796359)
bones/60/rotation = Quaternion(0.354561, 0.0206618, 0.0038842, 0.934796)
bones/62/rotation = Quaternion(-0.07917, -0.207683, -0.96963, 0.102065)
bones/63/rotation = Quaternion(-0.305727, 0.118261, -0.0375782, 0.943999)
bones/64/rotation = Quaternion(0.48615, -0.0209346, -0.0376496, 0.872813)
bones/65/rotation = Quaternion(0.35806, 0.000332093, -0.0287306, 0.933257)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(0.873497, -0.00708955, -0.486779, -0.0336383, 0.996625, -0.0748772, 0.485667, 0.0817794, 0.87031, 0.0284445, 1.1355, -0.0262876)
bone_name = "Chest"
bone_idx = 2

[node name="Flashlight" parent="Armature/Skeleton3D/BoneAttachment3D" index="0" instance=ExtResource( "3_r3pwl" )]
transform = Transform3D(-1.013, 1.09344e-05, 0.000158173, 1.09344e-05, 1.013, -1.3411e-07, -0.000158173, -1.19209e-07, -1.013, 0.177198, -0.0264027, 0.187903)
light_energy = 20.0

[node name="AnimationTree" parent="." index="3"]
parameters/InAirState/playback = SubResource( "AnimationNodeStateMachinePlayback_mtma1" )

[node name="Status" type="Control" parent="." index="7"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( "3_xc4yu" )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Control" type="Control" parent="Status" index="0"]
offset_left = 192.847
offset_top = 162.692
offset_right = 232.847
offset_bottom = 202.692
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Circle" type="Sprite2D" parent="Status/Control" index="0"]
scale = Vector2(0.287, 0.287)
texture = ExtResource( "4_wwpsv" )

[node name="Direction" type="Sprite2D" parent="Status/Control" index="1"]
scale = Vector2(0.287, 0.476)
texture = ExtResource( "5_o3n0v" )
offset = Vector2(112, 0)

[node name="mesh" type="Sprite2D" parent="Status/Control" index="2"]
modulate = Color(1, 0.345098, 0.345098, 1)
scale = Vector2(0.287, 0.287)
texture = ExtResource( "5_o3n0v" )
offset = Vector2(112, 0)

[node name="Velocity" type="Sprite2D" parent="Status/Control" index="3"]
scale = Vector2(0.287, 0.287)
texture = ExtResource( "6_cyw7n" )

[node name="ColorRect" type="ColorRect" parent="Status" index="1"]
offset_left = 145.0
offset_top = 267.0
offset_right = 291.0
offset_bottom = 337.0
color = Color(0.0980392, 0.231373, 0.407843, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect" type="ColorRect" parent="Status/ColorRect" index="0"]
offset_left = 11.9219
offset_top = 8.41742
offset_right = 17.9219
offset_bottom = 14.4174
color = Color(0, 0.74902, 0.952941, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Status/ColorRect/ColorRect" index="0"]
offset_left = 10.3943
offset_top = -8.73239
offset_right = 70.3943
offset_bottom = 17.2676
text = "Velocity"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect2" type="ColorRect" parent="Status/ColorRect" index="1"]
offset_left = 11.9219
offset_top = 24.4366
offset_right = 17.9219
offset_bottom = 30.4366
color = Color(1, 0.345098, 0.345098, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Status/ColorRect/ColorRect2" index="0"]
offset_left = 10.3943
offset_top = -7.73239
offset_right = 121.394
offset_bottom = 18.2676
text = "Mesh Rotation"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect3" type="ColorRect" parent="Status/ColorRect" index="2"]
offset_left = 11.9219
offset_top = 42.5159
offset_right = 17.9219
offset_bottom = 48.5159
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Status/ColorRect/ColorRect3" index="0"]
offset_left = 10.3943
offset_top = -7.73239
offset_right = 121.394
offset_bottom = 18.2676
text = "Control Rotation"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Status" index="2"]
offset_left = 500.618
offset_top = 234.989
offset_right = 540.618
offset_bottom = 248.989
rect_scale = Vector2(1.40679, 1.40679)
theme_override_colors/font_color = Color(0, 0, 0, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label2" type="Label" parent="Status" index="3"]
offset_left = 500.618
offset_top = 263.497
offset_right = 540.618
offset_bottom = 277.497
rect_scale = Vector2(1.40679, 1.40679)
theme_override_colors/font_color = Color(0, 0, 0, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label3" type="Label" parent="Status" index="4"]
offset_left = 500.618
offset_top = 291.052
offset_right = 540.618
offset_bottom = 305.052
rect_scale = Vector2(1.40679, 1.40679)
theme_override_colors/font_color = Color(0, 0, 0, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label4" type="Label" parent="Status" index="5"]
offset_left = 500.618
offset_top = 319.561
offset_right = 540.618
offset_bottom = 333.561
rect_scale = Vector2(1.40679, 1.40679)
theme_override_colors/font_color = Color(0, 0, 0, 1)
__meta__ = {
"_edit_use_anchors_": false
}

[node name="InteractionLabel" type="Label" parent="Status" index="6"]
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -55.0
theme_override_font_sizes/font_size = 16
text = "Press E to interact"
horizontal_alignment = 1
vertical_alignment = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RichTextLabel" type="RichTextLabel" parent="Status" index="7"]
visible = false
offset_left = 29.0
offset_top = 354.0
offset_right = 400.0
offset_bottom = 803.0
text = "                                      Controls
(W,A,S,D) Move In The Four Directions

(Shift) Sprint

(C) Long Press : Switch First/Third Person View

(C) One Press : Switch Camera Angle (Right Shoulder,Left Shoulder,Head(Center) )

(Space) Jump

(CTRL) Crouch/UnCrouch

(Q) Run (Temporarily)

(F) Interaction

(L) Flashlight"

[node name="FootstepSounds" parent="." index="8"]
stream = ExtResource( "8_k2nvr" )
